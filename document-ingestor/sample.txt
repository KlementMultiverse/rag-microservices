=== PAGE 1 ===
RAG MICROSERVICES â€” THE ULTIMATE BEGINNERâ€™S SELF-TEACHING GUIDE
==============================================================

Welcome, future elite developer.

This document is your companion â€” not your crutch.

You will not be handed code.
You will be handed **process**.
You will be taught **how to search**.
You will be guided to **think, try, fail, fix, and THEN understand**.

Each step is broken into substeps.
Each substep tells you:
â†’ What to DO
â†’ Where to SEARCH
â†’ What to THINK
â†’ What ERROR you might see
â†’ How to DEBUG
â†’ And ONLY THEN â€” what CODE you should end up with â€” and what it does.

This document will become your RAG systemâ€™s first knowledge base.

Letâ€™s begin.

=== PAGE 2 ===
STEP 1: CREATE PROJECT FOLDER â€” SUBSTEP BY SUBSTEP
==================================================

ğŸ”¹ SUBSTEP 1.1: Open your terminal

â†’ How? 
   - Mac: Press Cmd+Space â†’ type â€œTerminalâ€ â†’ Enter.
   - Linux: Ctrl+Alt+T.
   - Windows: Search â€œCommand Promptâ€ or â€œPowerShellâ€.

ğŸ’¡ GOAL: You need a command-line interface to create folders.

â€”

ğŸ”¹ SUBSTEP 1.2: Navigate to your home directory (optional but clean)

â†’ Type: cd ~
â†’ Press Enter.

ğŸ’¡ WHY? So you know exactly where your project lives.

âœ… WHAT THIS COMMAND DOES: 
Changes your current location to your home folder (e.g., /home/yourname or /Users/yourname).

â€”

ğŸ”¹ SUBSTEP 1.3: Create the main project folder

â†’ Type: mkdir -p rag-microservices/document-ingestor
â†’ Press Enter.

ğŸ’¡ IF YOU FORGET WHAT mkdir DOES:
â†’ Open browser â†’ search: â€œlinux mkdir commandâ€
â†’ Youâ€™ll learn: mkdir = â€œmake directoryâ€

âœ… WHAT THIS COMMAND DOES:
Creates a folder called â€œrag-microservicesâ€, and inside it, â€œdocument-ingestorâ€. The -p flag means â€œcreate parents if neededâ€.

â€”

ğŸ”¹ SUBSTEP 1.4: Navigate into the folder

â†’ Type: cd rag-microservices/document-ingestor
â†’ Press Enter.

ğŸ’¡ VERIFY: Type pwd â†’ should show full path to this folder.

âœ… WHAT THIS COMMAND DOES:
Changes your current working directory â€” so when you create files, they go here.

â€”

ğŸ’¡ SAMPLE Q&A:

Q: What if Iâ€™m on Windows and mkdir doesnâ€™t work?
A: It does â€” but use backslashes: mkdir rag-microservices\document-ingestor

Q: Can I use a different folder name?
A: Yes â€” but stick to this for consistency with this guide.

Q: What does â€œcdâ€ mean?
A: â€œChange Directoryâ€ â€” it moves you between folders.

â€”

âœ… FINAL STRUCTURE AFTER THIS STEP:
~/rag-microservices/document-ingestor/   â† you are here

=== PAGE 3 ===
STEP 2: CREATE PYTHON FILE â€” SUBSTEP BY SUBSTEP
===============================================

ğŸ”¹ SUBSTEP 2.1: Create the file ingest_pdf.py

â†’ Type: touch ingest_pdf.py
â†’ Press Enter.

ğŸ’¡ IF YOU DONâ€™T KNOW WHAT touch DOES:
â†’ Search: â€œlinux touch commandâ€
â†’ Learn: It creates an empty file.

âœ… WHAT THIS COMMAND DOES:
Creates a new, empty file named â€œingest_pdf.pyâ€ in your current folder.

â€”

ğŸ”¹ SUBSTEP 2.2: Verify it exists

â†’ Type: ls -l
â†’ Press Enter.

ğŸ’¡ EXPECT TO SEE: ingest_pdf.py in the list.

âœ… WHAT THIS COMMAND DOES:
Lists all files in current folder â€” with details (permissions, size, etc.).

â€”

ğŸ”¹ SUBSTEP 2.3: Open it in your editor

â†’ If you have VS Code: code ingest_pdf.py
â†’ If you have nano: nano ingest_pdf.py
â†’ If on Windows: Right-click â†’ Open with Notepad

ğŸ’¡ IF YOU DONâ€™T HAVE VS CODE:
â†’ Search: â€œinstall vscode linux/mac/windowsâ€ â†’ follow official guide.

âœ… WHAT THIS STEP DOES:
Opens the file so you can write code inside it.

â€”

ğŸ’¡ SAMPLE Q&A:

Q: What if touch doesnâ€™t work on Windows?
A: Use: type nul > ingest_pdf.py   OR create via File Explorer â†’ New â†’ Text Document â†’ rename to .py

Q: Should I write code now?
A: No â€” not yet. Just create and open the file.

Q: Why .py extension?
A: It tells your system this is a Python file.

â€”

âœ… YOU NOW HAVE: An empty Python file â€” ready for your first lines of code.

=== PAGE 4 ===
STEP 3: SEARCH FOR PDF LOADER â€” SUBSTEP BY SUBSTEP
==================================================

ğŸ”¹ SUBSTEP 3.1: Open your web browser

â†’ Chrome, Firefox, Edge â€” any is fine.

â€”

ğŸ”¹ SUBSTEP 3.2: Search for the tool

â†’ In search bar, type exactly: langchain load pdf example
â†’ Press Enter.

ğŸ’¡ WHY THIS SEARCH?
Because you want to load a PDF â€” and LangChain is the most popular tool for this in RAG systems.

â€”

ğŸ”¹ SUBSTEP 3.3: Click the official result

â†’ Look for: â€œPDF â€” ğŸ¦œï¸ğŸ”— LangChainâ€
â†’ URL should be: https://python.langchain.com/docs/modules/data_connection/document_loaders/pdf

ğŸ’¡ IF YOU SEE BLOGS OR VIDEOS:
â†’ Skip them. Only trust official docs for now.

âœ… WHAT YOUâ€™RE LOOKING FOR:
- The name of the loader (starts with â€œPyPDFâ€¦â€)
- What package to install (hint: pypdf)
- Example code using .load()

â€”

ğŸ”¹ SUBSTEP 3.4: Read â€” donâ€™t copy

â†’ Scan the page.
â†’ Note down:
   - Import statement
   - Class name
   - Method to load
   - Output structure

ğŸ’¡ GOAL: Understand â€” not copy.

â€”

ğŸ’¡ SAMPLE Q&A:

Q: What is LangChain?
A: A framework for building apps with LLMs â€” like RAG.

Q: Why not use PyPDF2 directly?
A: LangChain gives you a standard interface â€” easier to swap tools later.

Q: What if the page looks too complex?
A: Focus only on the PyPDFLoader section. Ignore the rest for now.

â€”

âœ… YOU NOW KNOW: You need PyPDFLoader from langchain_community, and to install pypdf.

=== PAGE 5 ===
STEP 4: CREATE VIRTUAL ENVIRONMENT â€” SUBSTEP BY SUBSTEP
======================================================

ğŸ”¹ SUBSTEP 4.1: Go back to project root

â†’ Type: cd ../..
â†’ Press Enter.

ğŸ’¡ WHY? Because virtual environments should live at project root â€” so all services can share it (for now).

âœ… WHAT THIS COMMAND DOES:
Moves you up two levels â€” from document-ingestor â†’ rag-microservices â†’ ~ (or wherever rag-microservices lives).

â€”

ğŸ”¹ SUBSTEP 4.2: Create the virtual environment

â†’ Type: python -m venv venv
â†’ Press Enter.

ğŸ’¡ IF YOU GET ERROR:
â†’ Search: â€œpython -m venv not workingâ€
â†’ You might need to install python3-venv (Linux) or use python3 instead of python.

âœ… WHAT THIS COMMAND DOES:
Creates a folder called â€œvenvâ€ â€” which contains an isolated Python environment.

â€”

ğŸ”¹ SUBSTEP 4.3: Activate it

â†’ Mac/Linux: source venv/bin/activate
â†’ Windows: venv\Scripts\activate

ğŸ’¡ VERIFY: You should see (venv) at the start of your terminal line.

âœ… WHAT THIS COMMAND DOES:
Activates the isolated environment â€” so any packages you install stay here.

â€”

ğŸ”¹ SUBSTEP 4.4: Install required packages

â†’ Type: pip install pypdf langchain-community
â†’ Press Enter.

ğŸ’¡ IF SLOW: Thatâ€™s normal â€” itâ€™s downloading and installing.

âœ… WHAT THIS COMMAND DOES:
Installs the libraries you need to load PDFs.

â€”

ğŸ”¹ SUBSTEP 4.5: Save your dependencies

â†’ Type: pip freeze > requirements.txt
â†’ Press Enter.

âœ… WHAT THIS COMMAND DOES:
Creates a file listing every installed package + version â€” so you (or anyone) can recreate this environment.

â€”

ğŸ’¡ SAMPLE Q&A:

Q: What is a virtual environment?
A: A sandbox â€” keeps your projectâ€™s packages separate from others.

Q: Why not install globally?
A: Avoids version conflicts. Professional projects always use venv.

Q: What if pip freeze is empty?
A: You forgot to activate venv. Run source venv/bin/activate first.

â€”

âœ… YOU NOW HAVE: An isolated, reproducible Python environment â€” ready for coding.

=== PAGE 6 ===
STEP 5: PREPARE TEST PDF â€” SUBSTEP BY SUBSTEP
=============================================

ğŸ”¹ SUBSTEP 5.1: Create sample.txt

â†’ You are reading it now â€” this entire guide is your sample.txt.

â†’ Save this file as â€œsample.txtâ€ in your document-ingestor folder.

â€”

ğŸ”¹ SUBSTEP 5.2: Convert to PDF

OPTION A (Linux/Mac with enscript):
â†’ Type: enscript -p - sample.txt | ps2pdf - sample.pdf

OPTION B (Google Docs):
â†’ Open sample.txt â†’ copy all â†’ paste into new Google Doc â†’ File â†’ Download â†’ PDF â†’ save as sample.pdf

OPTION C (Word):
â†’ Paste into Word â†’ Save As â†’ PDF â†’ sample.pdf

â€”

ğŸ”¹ SUBSTEP 5.3: Move it to the right folder

â†’ Make sure sample.pdf is in document-ingestor â€” same folder as ingest_pdf.py.

â†’ Verify: ls â†’ should show both files.

â€”

ğŸ’¡ SAMPLE Q&A:

Q: What if my PDF has no text?
A: Youâ€™ll see len(page.page_content) = 0 â€” then you know itâ€™s scanned â€” use this text-based one.

Q: Can I use my own PDF?
A: Yes â€” but if itâ€™s scanned, switch to this one for learning.

Q: Why not start with a real business PDF?
A: Because youâ€™re learning â€” start simple, then scale.

â€”

âœ… YOU NOW HAVE: A guaranteed text-based PDF â€” perfect for testing.

=== PAGE 7 ===
STEP 6: LOAD AND PRINT PDF â€” SUBSTEP BY SUBSTEP
===============================================

ğŸ”¹ SUBSTEP 6.1: Open ingest_pdf.py

â†’ Terminal: code ingest_pdf.py   (or nano, etc.)

â€”

ğŸ”¹ SUBSTEP 6.2: Write the import

â†’ Type: from langchain_community.document_loaders import

â†’ Try to remember the rest.

ğŸ’¡ IF STUCK: Go back to LangChain docs â†’ find the import.

âœ… WHAT YOU SHOULD WRITE:
from langchain_community.document_loaders import PyPDFLoader

âœ… WHAT IT DOES: Makes the PDF loader available in your script.

â€”

ğŸ”¹ SUBSTEP 6.3: Create the loader

â†’ Type: loader =

â†’ What goes next?

ğŸ’¡ HINT: You need to create a new PyPDFLoader â€” and give it a filename.

âœ… WHAT YOU SHOULD WRITE:
loader = PyPDFLoader("sample.pdf")

âœ… WHAT IT DOES: Points the loader to your file â€” doesnâ€™t load yet.

â€”

ğŸ”¹ SUBSTEP 6.4: Load the pages

â†’ Type: pages =

â†’ How to load?

ğŸ’¡ HINT: In docs, they use .load()

âœ… WHAT YOU SHOULD WRITE:
pages = loader.load()

âœ… WHAT IT DOES: Reads the PDF â€” returns list of Document objects.

â€”

ğŸ”¹ SUBSTEP 6.5: Print metadata

â†’ Type: print(pages[0].metadata)

âœ… WHAT IT DOES: Shows info like page number, source, producer.

â€”

ğŸ”¹ SUBSTEP 6.6: Print content

â†’ Type: print(pages[0].page_content)

âœ… WHAT IT DOES: Shows actual text from first page.

â€”

ğŸ”¹ SUBSTEP 6.7: Print lengths (debug)

â†’ Type:
for i, page in enumerate(pages):
    print(f"Page {i+1} length: {len(page.page_content)} characters")

âœ… WHAT IT DOES: Helps you verify text was extracted â€” if 0, PDF is scanned.

â€”

ğŸ”¹ SUBSTEP 6.8: Run it

â†’ Save file â†’ terminal â†’ python3 ingest_pdf.py

â€”

ğŸ’¡ SAMPLE Q&A:

Q: ModuleNotFoundError?
A: Activate venv â†’ pip install missing package.

Q: FileNotFoundError?
A: Is sample.pdf in the right folder? Run ls to check.

Q: Empty content?
A: Use text-based PDF â€” not scanned.

â€”

âœ… FINAL CODE (but you typed it yourself!):
[See previous page for full code + line-by-line explanation]

=== PAGE 8 ===
STEP 7: SPLIT TEXT INTO CHUNKS â€” SUBSTEP BY SUBSTEP (COMING NEXT)
=================================================================

ğŸ”¹ SUBSTEP 7.1: Search for text splitter

â†’ Browser â†’ search: â€œlangchain text splitter exampleâ€

â†’ Click: https://python.langchain.com/docs/modules/data_connection/text_splitters/

â€”

ğŸ”¹ SUBSTEP 7.2: Find the right splitter

â†’ Look for: RecursiveCharacterTextSplitter

â€”

ğŸ”¹ SUBSTEP 7.3: Learn parameters

â†’ chunk_size = max characters per chunk (try 300)
â†’ chunk_overlap = chars to repeat (try 50)

â€”

ğŸ”¹ SUBSTEP 7.4: Import it

â†’ Type: from langchain.text_splitter import RecursiveCharacterTextSplitter

â€”

ğŸ”¹ SUBSTEP 7.5: Create splitter

â†’ Type: splitter = RecursiveCharacterTextSplitter(chunk_size=300, chunk_overlap=50)

â€”

ğŸ”¹ SUBSTEP 7.6: Split documents

â†’ Type: chunks = splitter.split_documents(pages)

â€”

ğŸ”¹ SUBSTEP 7.7: Print chunks

â†’ Type:
for i, chunk in enumerate(chunks[:3]):
    print(f"--- Chunk {i+1} ---\n{chunk.page_content}\n")

â€”

ğŸ’¡ SAMPLE Q&A:

Q: Why split text?
A: LLMs canâ€™t read long docs at once â€” we break them into bite-sized pieces.

Q: What is chunk_overlap?
A: Repeats end of previous chunk â€” so context isnâ€™t lost at boundaries.

Q: Can I split by sentence?
A: Yes â€” but RecursiveCharacter is best for beginners.

â€”

âœ… YOU WILL LEARN: How to prepare text for embedding â€” next critical RAG step.

=== PAGE 9 ===
STEP 8: GENERATE EMBEDDINGS â€” SUBSTEP BY SUBSTEP (FUTURE)
=========================================================

ğŸ”¹ SUBSTEP 8.1: Search for embedding model

â†’ Search: â€œsentence transformers exampleâ€

â†’ Go to: www.sbert.net

â€”

ğŸ”¹ SUBSTEP 8.2: Install

â†’ pip install sentence-transformers

â€”

ğŸ”¹ SUBSTEP 8.3: Import model

â†’ from sentence_transformers import SentenceTransformer

â€”

ğŸ”¹ SUBSTEP 8.4: Load model

â†’ model = SentenceTransformer('all-MiniLM-L6-v2')

â€”

ğŸ”¹ SUBSTEP 8.5: Embed chunks

â†’ embeddings = model.encode([chunk.page_content for chunk in chunks])

â€”

ğŸ”¹ SUBSTEP 8.6: Print shape

â†’ print(embeddings.shape)

â€”

ğŸ’¡ SAMPLE Q&A:

Q: What is an embedding?
A: A list of numbers representing meaning â€” so we can search by similarity.

Q: Why MiniLM?
A: Small, fast, good for learning.

Q: What does .encode() do?
A: Converts text â†’ vector (list of numbers).

â€”

âœ… YOU WILL LEARN: How to turn text into numbers â€” the language of AI.

=== PAGE 10 ===
STEP 9: STORE IN VECTOR DB â€” SUBSTEP BY SUBSTEP (FUTURE)
========================================================

ğŸ”¹ SUBSTEP 9.1: Search for vector database

â†’ Search: â€œfaiss python exampleâ€

â†’ Go to: github.com/facebookresearch/faiss

â€”

ğŸ”¹ SUBSTEP 9.2: Install

â†’ pip install faiss-cpu

â€”

ğŸ”¹ SUBSTEP 9.3: Import

â†’ import faiss
â†’ import numpy as np

â€”

ğŸ”¹ SUBSTEP 9.4: Create index

â†’ index = faiss.IndexFlatL2(384)

â€”

ğŸ”¹ SUBSTEP 9.5: Add embeddings

â†’ index.add(np.array(embeddings))

â€”

ğŸ”¹ SUBSTEP 9.6: Search later

â†’ D, I = index.search(query_embedding, k=3)

â€”

ğŸ’¡ SAMPLE Q&A:

Q: What is FAISS?
A: Facebookâ€™s library for fast similarity search.

Q: Why 384?
A: Because all-MiniLM-L6-v2 outputs 384-dimensional vectors.

Q: Can I use GPU?
A: Yes â€” install faiss-gpu â€” but cpu is fine for learning.

â€”

âœ… YOU WILL LEARN: How to store and search by meaning â€” not keywords.

=== PAGE 11 ===
STEP 10: BUILD GENERATOR WITH QWEN â€” SUBSTEP BY SUBSTEP (FUTURE)
===============================================================

ğŸ”¹ SUBSTEP 10.1: Search for Qwen2.5-3B

â†’ Go to: huggingface.co/Qwen/Qwen2.5-3B

â€”

ğŸ”¹ SUBSTEP 10.2: Install

â†’ pip install transformers torch accelerate

â€”

ğŸ”¹ SUBSTEP 10.3: Load model

â†’ tokenizer = AutoTokenizer.from_pretrained("Qwen/Qwen2.5-3B")
â†’ model = AutoModelForCausalLM.from_pretrained("Qwen/Qwen2.5-3B", device_map="auto")

â€”

ğŸ”¹ SUBSTEP 10.4: Format prompt

â†’ Use tokenizer.apply_chat_template()

â€”

ğŸ”¹ SUBSTEP 10.5: Generate

â†’ inputs = tokenizer(...) â†’ outputs = model.generate(...) â†’ decode

â€”

ğŸ’¡ SAMPLE Q&A:

Q: What is device_map="auto"?
A: Uses GPU if available â€” else CPU.

Q: How to format prompt?
A: Use chat template â€” keeps Qwen happy.

Q: Why not use pipeline?
A: More control â€” better for learning.

â€”

âœ… YOU WILL LEARN: How to generate grounded, accurate answers â€” no hallucinations.

=== PAGE 12 ===
STEP 11: WRAP IN FASTAPI â€” SUBSTEP BY SUBSTEP (FUTURE)
=====================================================

ğŸ”¹ SUBSTEP 11.1: Search for FastAPI file upload

â†’ Search: â€œfastapi file upload exampleâ€

â†’ Go to: fastapi.tiangolo.com/tutorial/request-files/

â€”

ğŸ”¹ SUBSTEP 11.2: Install

â†’ pip install fastapi uvicorn

â€”

ğŸ”¹ SUBSTEP 11.3: Import

â†’ from fastapi import FastAPI, File, UploadFile

â€”

ğŸ”¹ SUBSTEP 11.4: Create app

â†’ app = FastAPI()

â€”

ğŸ”¹ SUBSTEP 11.5: Define endpoint

â†’ @app.post("/ingest")

â€”

ğŸ”¹ SUBSTEP 11.6: Use tempfile

â†’ Save uploaded file â†’ load â†’ split â†’ return JSON

â€”

ğŸ’¡ SAMPLE Q&A:

Q: What is UploadFile?
A: FastAPIâ€™s way to handle file uploads.

Q: How to test?
A: Go to http://localhost:8000/docs â†’ try it in browser.

Q: Why tempfile?
A: So you donâ€™t clutter your folder â€” auto-deleted.

â€”

âœ… YOU WILL LEARN: How to turn scripts into web services â€” microservices style.

=== PAGE 13 ===
STEP 12: BUILD UI + GATEWAY â€” SUBSTEP BY SUBSTEP (FUTURE)
=========================================================

ğŸ”¹ SUBSTEP 12.1: Search for Streamlit

â†’ Search: â€œstreamlit file uploader exampleâ€

â†’ Go to: docs.streamlit.io

â€”

ğŸ”¹ SUBSTEP 12.2: Install

â†’ pip install streamlit

â€”

ğŸ”¹ SUBSTEP 12.3: Create ui.py

â†’ st.file_uploader() â†’ st.text_input() â†’ requests.post()

â€”

ğŸ”¹ SUBSTEP 12.4: Call your API

â†’ Use Python requests library to call your FastAPI endpoint.

â€”

ğŸ”¹ SUBSTEP 12.5: Display answer

â†’ st.write(answer)

â€”

ğŸ’¡ SAMPLE Q&A:

Q: Can I style it like NVIDIA?
A: Yes â€” use st.markdown with custom CSS.

Q: How to call API from Streamlit?
A: Use requests.post("http://localhost:8000/query", json={...})

Q: Why not put LLM in Streamlit?
A: Separate concerns â€” UI â‰  Logic â‰  Data.

â€”

âœ… YOU WILL LEARN: How to build beautiful, functional UIs â€” that talk to microservices.

=== PAGE 14 ===
FINAL WORD â€” YOU ARE THE DEVELOPER
==================================

You didnâ€™t wait for magic.
You searched.
You read.
You typed.
You ran.
You failed.
You fixed.
You learned.

You are becoming the finest developer.

One substep.
One search.
One line.
At a time.

Keep going.

The world needs builders like you.

Save this file.
Convert to PDF.
Run your code.
Then move to Step 7.

Iâ€™ll be right here.

â€” End of Guide â€”
